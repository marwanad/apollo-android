buildscript {
  dependencies {
    classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.4'
  }
}

apply plugin: 'groovy'
apply plugin: 'idea'
apply plugin: 'kotlin'
apply plugin: 'java-gradle-plugin'
apply plugin: 'com.github.johnrengelman.shadow'

sourceCompatibility = JavaVersion.VERSION_1_7
targetCompatibility = JavaVersion.VERSION_1_7

dependencies {
  compileOnly gradleApi()
  compile localGroovy()
  compile project(':apollo-compiler')
  compile dep.gradleNodePlugin
  compile dep.androidPlugin

  testCompile dep.junit
  testCompile(dep.spock) {
    exclude module: 'groovy-all'
  }
}

apply from: rootProject.file('gradle/gradle-mvn-push.gradle')
